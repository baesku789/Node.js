{"version":3,"sources":["assets/img/boom.png","components/home/Home.js","components/home/HomeBar.js","components/auth/Auth.js","components/signup/Signup.js","components/meeting/MeetingUp.js","components/meeting/MeetingIn.js","components/meeting/Meeting.js","components/my/MyCredential.js","components/my/MyDID.js","components/my/MyVideos.js","components/meeting/MeetingCon.js","components/my/My.js","components/room/Video.js","components/room/Toggle.js","components/room/Room.js","Routes.js","App.js","reportWebVitals.js","index.js"],"names":["Home","history","useState","loginEmail","setLoginEmail","loginPassword","setLoginPassword","useEffect","p","document","getElementById","login","style","display","height","indexOf","color","fontSize","marginTop","Post","email","pw","a","alert","axios","post","headers","Accept","loginPW","then","res","data","message","sessionStorage","setItem","push","catch","error","console","log","className","src","logo","alt","width","id","type","onChange","event","currentTarget","value","placeholder","to","onClick","preventDefault","href","useStyles","makeStyles","theme","homebar","background","img","HomeBar","classes","auth","container","flexWrap","textField","marginLeft","spacing","marginRight","Signup","signName","setSignName","signEmail","setSignEmail","signPassword","setSignPassword","signPasswordCon","setSignPasswordCon","allitems","name","pwC","noValidate","TextField","defaultValue","InputLabelProps","shrink","MeetingUp","disabled","setDisabled","setName","uuid","e","target","pathname","state","username","MeetingIn","link","setLink","Meeting","MyCredential","MyDID","MyVideos","MeetingCon","my","Video","props","ref","useRef","peer","on","stream","current","srcObject","playsInline","autoPlay","Toggle","userStream","isVideo","colorVideo","UrlCopy","copied","setCopied","text","url","onCopy","class","isAudio","colorAudio","backgroundColor","getAudioTracks","enabled","getVideoTracks","window","location","replace","videoConstraints","innerHeight","innerWidth","Room","match","peers","setPeers","socketRef","userVideo","peersRef","roomID","params","io","connect","secure","reconnection","rejectUnauthorized","err","navigator","mediaDevices","getUserMedia","audio","video","emit","users","forEach","userID","userToSignal","callerID","Peer","initiator","trickle","signal","createPeer","peerID","payload","incomingSignal","addPeer","peerObj","find","destroy","filter","rel","integrity","crossOrigin","col","muted","map","Routes","path","exact","component","Auth","My","render","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.fefdde7c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/boom.979bccf0.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport logo from \"../../assets/img/boom.png\";\r\nimport axios from \"axios\";\r\n\r\nfunction Home({ history }) {\r\n  const [loginEmail, setLoginEmail] = useState(\"\");\r\n  const [loginPassword, setLoginPassword] = useState(\"\");\r\n\r\n  const onLoginEmailHandler = (event) => {\r\n    setLoginEmail(event.currentTarget.value);\r\n  };\r\n  const onLoginPasswordHandler = (event) => {\r\n    setLoginPassword(event.currentTarget.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const p = document.getElementById(\"notEmail\");\r\n    const login = document.getElementById(\"login\")\r\n    if (loginEmail === \"\") {\r\n      p.style.display = \"none\";\r\n      login.style.height = \"400px\";\r\n    } else {\r\n      if (loginEmail.indexOf(\"@\") === -1) {\r\n        p.style.display = \"block\";\r\n        p.style.color = \"red\";\r\n        p.style.fontSize = \"12px\";\r\n        p.style.marginTop = \"0\";\r\n        login.style.height = \"430px\";\r\n      } else {\r\n        p.style.display = \"none\";\r\n        login.style.height = \"400px\";\r\n      }\r\n    }\r\n  }, [loginEmail]);\r\n\r\n  const onLoginSubmitHandler = (event) => {\r\n    event.preventDefault();\r\n    Post(loginEmail, loginPassword);\r\n  };\r\n\r\n  const Post = async (email, pw) => {\r\n    if (email === \"\" || pw === \"\") {\r\n      alert(\"모든 정보를 기입해주세요.\");\r\n    } else if (email.indexOf(\"@\") === -1) {\r\n      alert(\"이메일 형식을 확인해주세요.\");\r\n    } else {\r\n      await axios\r\n        .post(`http://localhost:3001/`, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          loginEmail: email,\r\n          loginPW: pw,\r\n        })\r\n        .then((res) => {\r\n          //로그인 성공\r\n          if (res.data.message === true) {\r\n            alert(\"로그인 성공! 인증페이지로 이동합니다.\");\r\n            sessionStorage.setItem('user_email', email)\r\n            history.push(\"/auth\");\r\n          }\r\n          //로그인 실패\r\n          else if (res.data.message === false) {\r\n            alert(\"이메일과 비밀번호를 확인해주세요.\");\r\n          } else if (res.data.message === \"notUser\") {\r\n            alert(\"가입된 정보가 없습니다.\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"클라이언트 오류 : \" + error);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"all\">\r\n        <div className=\"whtthe\">\r\n          <img src={logo} alt=\"로고\" width=\"160px\" height=\"90px\" />\r\n          <div className=\"catch\">\r\n            <h3>더 빠르고 안전하게,<br />지금 BOOM에서 회의하세요!</h3>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"login\" id=\"login\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"id\"\r\n            onChange={onLoginEmailHandler}\r\n            placeholder=\"이메일\"\r\n          />\r\n          <br />\r\n          <p id=\"notEmail\">이메일 형식으로 입력하세요!</p>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            onChange={onLoginPasswordHandler}\r\n            placeholder=\"비밀번호\"\r\n          />\r\n          <Link to=\"/auth\">\r\n            <input\r\n              type=\"button\"\r\n              className=\"login_but\"\r\n              value=\"로그인\"\r\n              onClick={onLoginSubmitHandler}\r\n            />\r\n          </Link>\r\n          <a href=\"/\"><h4>비밀번호를 잊으셨나요?</h4></a>\r\n          <hr />\r\n          <br />\r\n          <Link to=\"/signup\">\r\n            <input type=\"button\" className=\"sign_but\" value=\"새 계정 만들기\" />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import logo from \"../../assets/img/boom.png\";\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction HomeBar() {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.homebar}>\r\n      <Link to=\"/\">\r\n        <img src={logo} alt=\"로고\" className={classes.img} />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  homebar: {\r\n    width: \"100%\",\r\n    background: \"rgb(5, 63, 31)\",\r\n  },\r\n  img: {\r\n    width: \"5em\",\r\n    height: \"3em\",\r\n    display: \"flex\",\r\n  },\r\n}));\r\n\r\nexport default HomeBar;\r\n","import React from \"react\";\r\nimport HomeBar from \"../home/HomeBar\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction auth() {\r\n  return (\r\n    <>\r\n      <HomeBar />\r\n      <div>인증 성공 페이지입니다.</div>\r\n      <Link to=\"/auth/meeting_in\">\r\n        <button>회의 참가</button>\r\n      </Link>\r\n      <Link to=\"/auth/meeting_up\">\r\n        <button>회의 생성</button>\r\n      </Link>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default auth;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./signup.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport axios from \"axios\";\r\nimport logo from \"../../assets/img/boom.png\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nfunction Signup({ history }) {\r\n  const [signName, setSignName] = useState(\"\");\r\n  const [signEmail, setSignEmail] = useState(\"\");\r\n  const [signPassword, setSignPassword] = useState(\"\");\r\n  const [signPasswordCon, setSignPasswordCon] = useState(\"\");\r\n\r\n  const onSignNameHandler = (event) => {\r\n    setSignName(event.currentTarget.value);\r\n  };\r\n\r\n  const onSignEmailHandler = (event) => {\r\n    setSignEmail(event.currentTarget.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const p = document.getElementById(\"notEmail\");\r\n    const allitems = document.getElementById(\"allitems\")\r\n    if (signEmail === \"\") {\r\n      p.style.display = \"none\";\r\n      allitems.style.height = \"470px\";\r\n    } else {\r\n      if (signEmail.indexOf(\"@\") === -1) {\r\n        p.style.display = \"block\";\r\n        p.style.color = \"red\";\r\n        p.style.fontSize = \"12px\";\r\n        p.style.marginTop = \"0\";\r\n        allitems.style.height = \"500px\";\r\n      } else {\r\n        p.style.display = \"none\";\r\n        allitems.style.height = \"470px\";\r\n      }\r\n    }\r\n  }, [signEmail]);\r\n\r\n  const onSignPasswordHandler = (event) => {\r\n    setSignPassword(event.currentTarget.value);\r\n  };\r\n\r\n  const onSignPasswordConHandler = (event) => {\r\n    setSignPasswordCon(event.currentTarget.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const p = document.getElementById(\"notPWCon\");\r\n    const allitems = document.getElementById(\"allitems\")\r\n    const signPassword = document.getElementById(\"signPassword\").value;\r\n    if (signPasswordCon === \"\") {\r\n      p.style.display = \"none\";\r\n      allitems.style.height = \"470px\";\r\n    } else {\r\n      if (signPasswordCon !== signPassword) {\r\n        p.style.display = \"block\";\r\n        p.style.color = \"red\";\r\n        p.style.fontSize = \"12px\";\r\n        p.style.marginTop = \"0\";\r\n        allitems.style.height = \"500px\";\r\n      } else {\r\n        p.style.display = \"none\";\r\n        allitems.style.height = \"470px\";\r\n      }\r\n    }\r\n  }, [signPasswordCon]);\r\n\r\n  const onSignSubmitHandler = (event) => {\r\n    event.preventDefault();\r\n    Post(signName, signEmail, signPassword, signPasswordCon);\r\n  };\r\n\r\n  const Post = async (name, email, pw, pwC) => {\r\n    if (name === \"\" || email === \"\" || pw === \"\" || pwC === \"\") {\r\n      alert(\"모든 정보를 기입해주세요.\");\r\n    } else if (email.indexOf(\"@\") === -1) {\r\n      alert(\"이메일 형식을 확인해주세요.\");\r\n    } else if (pw !== pwC) {\r\n      alert(\"비밀번호가 다릅니다.\");\r\n    } else {\r\n      await axios\r\n        .post(`http://localhost:3001/signup`, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          name: name,\r\n          email: email,\r\n          pw: pw,\r\n        })\r\n        .then((res) => {\r\n          //회원가입 성공\r\n          if (res.data.message === true) {\r\n            alert(\"가입 성공! 로그인 페이지로 이동합니다.\");\r\n            history.push(\"/\");\r\n          }\r\n          //회원가입 실패\r\n          else if (res.data.message === \"dup\") {\r\n            alert(\"이미 가입된 이메일입니다.\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"클라이언트 오류 : \" + error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <div className='logo'>\r\n      <img src={logo} alt=\"로고\" width=\"160px\" height=\"90px\" />\r\n      </div>\r\n      <div className=\"allitems\" id=\"allitems\">\r\n        <div>\r\n          <br /><br />\r\n          <input\r\n            type=\"text\"\r\n            id=\"signName\"\r\n            onChange={onSignNameHandler}\r\n            placeholder=\"이름\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            id=\"signEmail\"\r\n            onChange={onSignEmailHandler}\r\n            placeholder=\"이메일\"\r\n          />{\" \"}\r\n          <br />\r\n          <p id=\"notEmail\">이메일 형식으로 입력하세요!</p>\r\n          <input\r\n            type=\"password\"\r\n            id=\"signPassword\"\r\n            onChange={onSignPasswordHandler}\r\n            placeholder=\"비밀번호\"\r\n          />{\" \"}\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            onChange={onSignPasswordConHandler}\r\n            placeholder=\"비밀번호 확인\"\r\n          />{\" \"}\r\n          <br />\r\n          <p id=\"notPWCon\">비밀번호를 다시 확인해주세요!</p>\r\n        </div>\r\n        <div className=\"birthday\">\r\n          <div className=\"birthdayTitle\">\r\n            <p>생일</p>\r\n          </div>\r\n          <div className=\"birthdayCon\">\r\n            <form className={classes.container} noValidate>\r\n              <TextField\r\n                id=\"date\"\r\n                type=\"date\"\r\n                defaultValue=\"2017-05-24\"\r\n                className={classes.textField}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <Link to=\"/\">\r\n          <br />\r\n          <input type=\"button\" className=\"sign_but\" onClick={onSignSubmitHandler} value=\"가입하기\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MeetingUp = () => {\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [name, setName] = useState(\"\");\r\n  const id = uuid();\r\n\r\n  const onChange = (e) => {\r\n    const { value } = e.target;\r\n    if (value) {\r\n      setDisabled(false);\r\n      setName(value);\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input type=\"text\" onChange={onChange} placeholder=\"이름을 입력하세요.\" />\r\n      <button type=\"button\" disabled={disabled}>\r\n        <Link\r\n          to={{\r\n            pathname: `/room/${id}`,\r\n            state: {\r\n              username: name,\r\n            },\r\n          }}\r\n        >\r\n          입장\r\n        </Link>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MeetingUp;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MeetingIn = () => {\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  const onChange = (e) => {\r\n    const { value } = e.target;\r\n    if (value) {\r\n      setDisabled(false);\r\n      setName(value);\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  const onLink = (e) => {\r\n    const { value } = e.target;\r\n    if (value) {\r\n      setDisabled(false);\r\n      setLink(value);\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"회의 주소를 입력하세요.\"\r\n        onChange={onLink}\r\n      />\r\n      <input type=\"text\" onChange={onChange} placeholder=\"이름을 입력하세요\" />\r\n      <button type=\"button\" disabled={disabled}>\r\n        <Link\r\n          to={{\r\n            pathname: link,\r\n            state: {\r\n              username: name,\r\n            },\r\n          }}\r\n        >\r\n          입장\r\n        </Link>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MeetingIn;","import React, { useState } from \"react\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Meeting = () => {\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [name, setName] = useState(\"\");\r\n  const id = uuid();\r\n\r\n  const onChange = (e) => {\r\n    const { value } = e.target;\r\n    if (value) {\r\n      setDisabled(false);\r\n      setName(value);\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input type=\"text\" placeholder=\"회의 주소를 입력하세요.\" />\r\n      <input type=\"text\" onChange={onChange} />\r\n      <button type=\"button\" disabled={disabled}>\r\n        <Link\r\n          to={{\r\n            pathname: `/room/${id}`,\r\n            state: {\r\n              username: name,\r\n            },\r\n          }}\r\n        >\r\n          입장\r\n        </Link>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Meeting;","import React from \"react\";\r\nimport HomeBar from \"../home/HomeBar\";\r\n\r\nfunction MyCredential() {\r\n  return (\r\n    <div>\r\n      <HomeBar />\r\n      <h1>나의 신원정보 페이지입니다.</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyCredential;\r\n","import React from \"react\";\r\nimport HomeBar from \"../home/HomeBar\";\r\n\r\nfunction MyDID() {\r\n  return (\r\n    <div>\r\n      <HomeBar />\r\n      <h1>나의 DID 정보 페이지입니다.</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyDID;\r\n","import React from \"react\";\r\nimport HomeBar from \"../home/HomeBar\";\r\n\r\nfunction MyVideos() {\r\n  return (\r\n    <div>\r\n      <HomeBar />\r\n      <h1>나의 녹화본 페이지입니다.</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyVideos;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction MeetingCon() {\r\n  return (\r\n    <div>\r\n      <h1>회의 생성 페이지입니다.</h1>\r\n      <Link to=\"/auth/meeting\">\r\n        <button>입장</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MeetingCon;\r\n","import React from \"react\";\r\nimport HomeBar from \"../home/HomeBar\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction my() {\r\n  return (\r\n    <div>\r\n      <HomeBar />\r\n      <h1>마이페이지입니다.</h1>\r\n      <Link to=\"my/my_credential\">\r\n        <h2>credential</h2>\r\n      </Link>\r\n      <Link to=\"my/my_did\">\r\n        <h2>DID</h2>\r\n      </Link>\r\n      <Link to=\"my/my_videos\">\r\n        <h2>videos</h2>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default my;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\n// Streaming Video of the user\r\nconst Video = (props) => {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    props.peer.on(\"stream\", (stream) => {\r\n      console.log(`on stream : ${stream}`);\r\n      ref.current.srcObject = stream;\r\n    });\r\n  }, [props.peer]);\r\n\r\n  return <video className=\"groupVideo\" playsInline autoPlay ref={ref} />;\r\n};\r\n\r\nexport default Video;\r\n","import { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport { useState } from \"react\";\r\n\r\nconst Toggle = (props) => {\r\n  const userStream = props.userStream;\r\n  // Toggle Video\r\n  let isVideo = true;\r\n  let colorVideo = \"#bc1823\";\r\n  function toggleVideo() {\r\n    document.getElementById(\"avv\").style.backgroundColor = colorVideo;\r\n    if (isVideo) {\r\n      colorVideo = \"#302b70\";\r\n    } else {\r\n      colorVideo = \"#bc1823\";\r\n    }\r\n    isVideo = !isVideo;\r\n    userStream.current.getVideoTracks()[0].enabled = isVideo;\r\n  }\r\n\r\n  function UrlCopy() {\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    return (\r\n      <>\r\n        <CopyToClipboard text={props.url} onCopy={() => setCopied(true)}>\r\n          <button className=\"url\">\r\n            {\" \"}\r\n            <i class=\"far fa-copy\"></i>\r\n          </button>\r\n        </CopyToClipboard>\r\n        {copied ? alert(\"URL이 복사되었습니다.\") : null}\r\n      </>\r\n    );\r\n  }\r\n\r\n  // Toggle Audio\r\n  let isAudio = true;\r\n  let colorAudio = \"#bc1823\";\r\n  function toggleAudio() {\r\n    document.getElementById(\"av\").style.backgroundColor = colorAudio;\r\n    if (isAudio) {\r\n      colorAudio = \"#302b70\";\r\n    } else {\r\n      colorAudio = \"#bc1823\";\r\n    }\r\n    isAudio = !isAudio;\r\n    userStream.current.getAudioTracks()[0].enabled = isAudio;\r\n  }\r\n\r\n  // Hanging up the call\r\n  function hangUp() {\r\n    userStream.current.getVideoTracks()[0].enabled = false;\r\n    window.location.replace(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div id=\"button-box\">\r\n      <button id=\"av\" onClick={toggleAudio}>\r\n        {\" \"}\r\n        <i className=\"fas fa-microphone-slash\"></i>{\" \"}\r\n      </button>\r\n      <button id=\"end\" onClick={hangUp}>\r\n        {\" \"}\r\n        <i className=\"fas fa-phone-square-alt fa-3x\"></i>{\" \"}\r\n      </button>\r\n      <button id=\"avv\" onClick={toggleVideo}>\r\n        {\" \"}\r\n        <i className=\"fas fa-video\"></i>{\" \"}\r\n      </button>\r\n      <UrlCopy />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toggle;\r\n","/* ------ IMPORTING FILES ------- */\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport \"./room.css\";\r\nimport Video from \"./Video\";\r\nimport Toggle from \"./Toggle\";\r\n// import Chat from \"./Chat\";\r\n// import UserList from \"./UserList\";\r\n\r\n// setting the constraints of video box\r\nconst videoConstraints = {\r\n  height: window.innerHeight / 2,\r\n  width: window.innerWidth / 2,\r\n};\r\n\r\nconst Room = ({ match, location }) => {\r\n  // variables for different functionalities of video call\r\n  const [peers, setPeers] = useState([]);\r\n  const socketRef = useRef();\r\n  const userVideo = useRef();\r\n  const peersRef = useRef([]);\r\n  const userStream = useRef();\r\n  const { roomID } = match.params;\r\n  const { username } = location.state;\r\n  console.log(username);\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io.connect(\"/\", {\r\n      secure: true,\r\n      reconnection: true,\r\n      rejectUnauthorized: false,\r\n    });\r\n\r\n    socketRef.current.on(\"connect_error\", (err) => {\r\n      console.log(`connect_error due to ${err.message}`);\r\n    });\r\n\r\n    // socketRef.current.emit(\"send userList\", username);\r\n\r\n    // asking for audio and video access\r\n    navigator.mediaDevices\r\n      .getUserMedia({ audio: true, video: videoConstraints })\r\n      .then((stream) => {\r\n        // streaming the audio and video\r\n        userVideo.current.srcObject = stream;\r\n        userStream.current = stream;\r\n        console.log(\"test : \" + roomID);\r\n        socketRef.current.emit(\"join room group\", roomID);\r\n        console.log(\"emit join room group\");\r\n\r\n        // getting all user for the new user joining in\r\n        socketRef.current.on(\"all users\", (users) => {\r\n          const peers = [];\r\n          console.log(\"on all users\");\r\n\r\n          // adding the new user to the group\r\n          users.forEach((userID) => {\r\n            const peer = createPeer(userID, socketRef.current.id, stream);\r\n            peersRef.current.push({\r\n              peerID: userID,\r\n              peer,\r\n            });\r\n            peers.push({\r\n              peerID: userID,\r\n              peer,\r\n            });\r\n          });\r\n          setPeers(peers);\r\n        });\r\n\r\n        // sending signal to existing users after new user joined\r\n        socketRef.current.on(\"user joined\", (payload) => {\r\n          console.log(\"on user joined\");\r\n          const peer = addPeer(payload.signal, payload.callerID, stream);\r\n          peersRef.current.push({\r\n            peerID: payload.callerID,\r\n            peer,\r\n          });\r\n\r\n          const peerObj = {\r\n            peer,\r\n            peerID: payload.callerID,\r\n          };\r\n\r\n          setPeers((users) => [...users, peerObj]);\r\n        });\r\n\r\n        // exisisting users recieving the signal\r\n        socketRef.current.on(\"receiving returned signal\", (payload) => {\r\n          console.log(\"on receiving returned signal\");\r\n          const item = peersRef.current.find((p) => p.peerID === payload.id);\r\n          item.peer.signal(payload.signal);\r\n        });\r\n\r\n        // handling user disconnecting\r\n        socketRef.current.on(\"user left\", (id) => {\r\n          // finding the id of the peer who just left\r\n          console.log(\"on user left\");\r\n          const peerObj = peersRef.current.find((p) => p.peerID === id);\r\n          if (peerObj) {\r\n            peerObj.peer.destroy();\r\n          }\r\n\r\n          // removing the peer from the arrays and storing remaining peers in new array\r\n          const peers = peersRef.current.filter((p) => p.peerID !== id);\r\n          peersRef.current = peers;\r\n          setPeers(peers);\r\n        });\r\n      });\r\n  }, [roomID, username]);\r\n\r\n  // creating a peer object for newly joined user\r\n  function createPeer(userToSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: true,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      console.log(\"create peer on signal\");\r\n      socketRef.current.emit(\"sending signal\", {\r\n        userToSignal,\r\n        callerID,\r\n        signal,\r\n      });\r\n    });\r\n\r\n    return peer;\r\n  }\r\n\r\n  // adding the newly joined peer to the room\r\n  function addPeer(incomingSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: false,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      console.log(\"add peer on signal\");\r\n      socketRef.current.emit(\"returning signal\", { signal, callerID });\r\n    });\r\n\r\n    peer.signal(incomingSignal);\r\n    return peer;\r\n  }\r\n\r\n  return (\r\n    <div className=\"group-call\">\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://use.fontawesome.com/releases/v5.15.4/css/all.css\"\r\n        integrity=\"sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm\"\r\n        crossOrigin=\"anonymous\"\r\n      ></link>\r\n      <div col=\"col-12\">\r\n        <div className=\"videos\">\r\n          <video\r\n            className=\"groupVideo\"\r\n            muted\r\n            ref={userVideo}\r\n            autoPlay\r\n            playsInline\r\n          />\r\n          {peers.map((peer) => {\r\n            return (\r\n              <Video\r\n                className=\"groupVideo\"\r\n                key={peer.peerID}\r\n                peer={peer.peer}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        <Toggle userStream={userStream} url={location.pathname} />\r\n      </div>\r\n      <div className=\"side\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import Home from \"./components/home/Home\";\r\nimport Auth from \"./components/auth/Auth\";\r\nimport Signup from \"./components/signup/Signup\";\r\nimport MeetingUp from \"./components/meeting/MeetingUp\";\r\nimport MeetingIn from \"./components/meeting/MeetingIn\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Meeting from \"./components/meeting/Meeting\";\r\nimport MyCredential from \"./components/my/MyCredential\";\r\nimport MyDID from \"./components/my/MyDID\";\r\nimport MyVideos from \"./components/my/MyVideos\";\r\nimport MeetingCon from \"./components/meeting/MeetingCon\";\r\nimport My from \"./components/my/My\";\r\nimport Room from \"./components/room/Room\";\r\n\r\nexport const Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact component={Home} />\r\n      <Route path=\"/signup\" component={Signup} />\r\n      <Route path=\"/auth\" exact component={Auth} />\r\n      <Route path=\"/auth/meeting_in\" component={MeetingIn} />\r\n      <Route path=\"/auth/meeting_up\" component={MeetingUp} />\r\n      <Route path=\"/auth/meeting_con\" component={MeetingCon} />\r\n      <Route path=\"/auth/meeting\" exact component={Meeting} />\r\n      <Route path=\"/room/:roomID\" component={Room} />\r\n      <Route path=\"/my\" exact component={My} />\r\n      <Route path=\"/my/my_credential\" component={MyCredential} />\r\n      <Route path=\"/my/my_did\" component={MyDID} />\r\n      <Route path=\"/my/my_videos\" component={MyVideos} />\r\n      <Route\r\n        render={({ location }) => (\r\n          <div>\r\n            <h2>이 페이지는 존재하지 않습니다</h2>\r\n            <p>{location.pathname}</p>\r\n          </div>\r\n        )}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n","import \"./App.css\";\nimport { Routes } from \"./Routes\";\n\nconst App = () => {\n  return (\n    <>\n      <Routes />\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}