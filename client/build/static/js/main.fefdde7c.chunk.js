(this.webpackJsonpboom=this.webpackJsonpboom||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},132:function(e,t,n){},165:function(e,t){},167:function(e,t){},175:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(9),r=n.n(a),s=(n(104),n(105),n(33)),i=n.n(s),o=n(45),l=n(7),j=n(6),u=n.p+"static/media/boom.979bccf0.png",b=n(47),d=n.n(b),h=n(1);var p=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],s=a[1],b=Object(c.useState)(""),p=Object(l.a)(b,2),O=p[0],x=p[1];Object(c.useEffect)((function(){var e=document.getElementById("notEmail"),t=document.getElementById("login");""===r?(e.style.display="none",t.style.height="400px"):-1===r.indexOf("@")?(e.style.display="block",e.style.color="red",e.style.fontSize="12px",e.style.marginTop="0",t.style.height="430px"):(e.style.display="none",t.style.height="400px")}),[r]);var m=function(){var e=Object(o.a)(i.a.mark((function e(n,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==c){e.next=4;break}alert("\ubaa8\ub4e0 \uc815\ubcf4\ub97c \uae30\uc785\ud574\uc8fc\uc138\uc694."),e.next=10;break;case 4:if(-1!==n.indexOf("@")){e.next=8;break}alert("\uc774\uba54\uc77c \ud615\uc2dd\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694."),e.next=10;break;case 8:return e.next=10,d.a.post("http://localhost:3001/",{headers:{"Content-Type":"application/json",Accept:"application/json"},loginEmail:n,loginPW:c}).then((function(e){!0===e.data.message?(alert("\ub85c\uadf8\uc778 \uc131\uacf5! \uc778\uc99d\ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),sessionStorage.setItem("user_email",n),t.push("/auth")):!1===e.data.message?alert("\uc774\uba54\uc77c\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694."):"notUser"===e.data.message&&alert("\uac00\uc785\ub41c \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")})).catch((function(e){console.log("\ud074\ub77c\uc774\uc5b8\ud2b8 \uc624\ub958 : "+e)}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"all",children:[Object(h.jsxs)("div",{className:"whtthe",children:[Object(h.jsx)("img",{src:u,alt:"\ub85c\uace0",width:"160px",height:"90px"}),Object(h.jsx)("div",{className:"catch",children:Object(h.jsxs)("h3",{children:["\ub354 \ube60\ub974\uace0 \uc548\uc804\ud558\uac8c,",Object(h.jsx)("br",{}),"\uc9c0\uae08 BOOM\uc5d0\uc11c \ud68c\uc758\ud558\uc138\uc694!"]})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"login",id:"login",children:[Object(h.jsx)("input",{type:"text",id:"id",onChange:function(e){s(e.currentTarget.value)},placeholder:"\uc774\uba54\uc77c"}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{id:"notEmail",children:"\uc774\uba54\uc77c \ud615\uc2dd\uc73c\ub85c \uc785\ub825\ud558\uc138\uc694!"}),Object(h.jsx)("input",{type:"password",id:"password",onChange:function(e){x(e.currentTarget.value)},placeholder:"\ube44\ubc00\ubc88\ud638"}),Object(h.jsx)(j.b,{to:"/auth",children:Object(h.jsx)("input",{type:"button",className:"login_but",value:"\ub85c\uadf8\uc778",onClick:function(e){e.preventDefault(),m(r,O)}})}),Object(h.jsx)("a",{href:"/",children:Object(h.jsx)("h4",{children:"\ube44\ubc00\ubc88\ud638\ub97c \uc78a\uc73c\uc168\ub098\uc694?"})}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{}),Object(h.jsx)(j.b,{to:"/signup",children:Object(h.jsx)("input",{type:"button",className:"sign_but",value:"\uc0c8 \uacc4\uc815 \ub9cc\ub4e4\uae30"})})]})]})})},O=n(180);var x=Object(O.a)((function(e){return{homebar:{width:"100%",background:"rgb(5, 63, 31)"},img:{width:"5em",height:"3em",display:"flex"}}})),m=function(){var e=x();return Object(h.jsx)("div",{className:e.homebar,children:Object(h.jsx)(j.b,{to:"/",children:Object(h.jsx)("img",{src:u,alt:"\ub85c\uace0",className:e.img})})})};var g=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{}),Object(h.jsx)("div",{children:"\uc778\uc99d \uc131\uacf5 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."}),Object(h.jsx)(j.b,{to:"/auth/meeting_in",children:Object(h.jsx)("button",{children:"\ud68c\uc758 \ucc38\uac00"})}),Object(h.jsx)(j.b,{to:"/auth/meeting_up",children:Object(h.jsx)("button",{children:"\ud68c\uc758 \uc0dd\uc131"})})]})},f=(n(132),n(133),n(211)),v=n(213),y=Object(f.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));var w=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],s=a[1],b=Object(c.useState)(""),p=Object(l.a)(b,2),O=p[0],x=p[1],m=Object(c.useState)(""),g=Object(l.a)(m,2),f=g[0],w=g[1],I=Object(c.useState)(""),k=Object(l.a)(I,2),C=k[0],N=k[1];Object(c.useEffect)((function(){var e=document.getElementById("notEmail"),t=document.getElementById("allitems");""===O?(e.style.display="none",t.style.height="470px"):-1===O.indexOf("@")?(e.style.display="block",e.style.color="red",e.style.fontSize="12px",e.style.marginTop="0",t.style.height="500px"):(e.style.display="none",t.style.height="470px")}),[O]),Object(c.useEffect)((function(){var e=document.getElementById("notPWCon"),t=document.getElementById("allitems"),n=document.getElementById("signPassword").value;""===C?(e.style.display="none",t.style.height="470px"):C!==n?(e.style.display="block",e.style.color="red",e.style.fontSize="12px",e.style.marginTop="0",t.style.height="500px"):(e.style.display="none",t.style.height="470px")}),[C]);var D=function(){var e=Object(o.a)(i.a.mark((function e(n,c,a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==c&&""!==a&&""!==r){e.next=4;break}alert("\ubaa8\ub4e0 \uc815\ubcf4\ub97c \uae30\uc785\ud574\uc8fc\uc138\uc694."),e.next=14;break;case 4:if(-1!==c.indexOf("@")){e.next=8;break}alert("\uc774\uba54\uc77c \ud615\uc2dd\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694."),e.next=14;break;case 8:if(a===r){e.next=12;break}alert("\ube44\ubc00\ubc88\ud638\uac00 \ub2e4\ub985\ub2c8\ub2e4."),e.next=14;break;case 12:return e.next=14,d.a.post("http://localhost:3001/signup",{headers:{"Content-Type":"application/json",Accept:"application/json"},name:n,email:c,pw:a}).then((function(e){!0===e.data.message?(alert("\uac00\uc785 \uc131\uacf5! \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),t.push("/")):"dup"===e.data.message&&alert("\uc774\ubbf8 \uac00\uc785\ub41c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.")})).catch((function(e){console.log("\ud074\ub77c\uc774\uc5b8\ud2b8 \uc624\ub958 : "+e)}));case 14:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),S=y();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"logo",children:Object(h.jsx)("img",{src:u,alt:"\ub85c\uace0",width:"160px",height:"90px"})}),Object(h.jsxs)("div",{className:"allitems",id:"allitems",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",id:"signName",onChange:function(e){s(e.currentTarget.value)},placeholder:"\uc774\ub984"}),Object(h.jsx)("input",{type:"text",id:"signEmail",onChange:function(e){x(e.currentTarget.value)},placeholder:"\uc774\uba54\uc77c"})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{id:"notEmail",children:"\uc774\uba54\uc77c \ud615\uc2dd\uc73c\ub85c \uc785\ub825\ud558\uc138\uc694!"}),Object(h.jsx)("input",{type:"password",id:"signPassword",onChange:function(e){w(e.currentTarget.value)},placeholder:"\ube44\ubc00\ubc88\ud638"})," ",Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"password",onChange:function(e){N(e.currentTarget.value)},placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{id:"notPWCon",children:"\ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694!"})]}),Object(h.jsxs)("div",{className:"birthday",children:[Object(h.jsx)("div",{className:"birthdayTitle",children:Object(h.jsx)("p",{children:"\uc0dd\uc77c"})}),Object(h.jsx)("div",{className:"birthdayCon",children:Object(h.jsx)("form",{className:S.container,noValidate:!0,children:Object(h.jsx)(v.a,{id:"date",type:"date",defaultValue:"2017-05-24",className:S.textField,InputLabelProps:{shrink:!0}})})})]}),Object(h.jsxs)(j.b,{to:"/",children:[Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"button",className:"sign_but",onClick:function(e){e.preventDefault(),D(r,O,f,C)},value:"\uac00\uc785\ud558\uae30"})]})]})]})},I=n(214),k=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],u=Object(I.a)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;t?(a(!1),o(t)):a(!0)},placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694."}),Object(h.jsx)("button",{type:"button",disabled:n,children:Object(h.jsx)(j.b,{to:{pathname:"/room/".concat(u),state:{username:i}},children:"\uc785\uc7a5"})})]})},C=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),b=Object(l.a)(u,2),d=b[0],p=b[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{type:"text",placeholder:"\ud68c\uc758 \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){var t=e.target.value;t?(a(!1),p(t)):a(!0)}}),Object(h.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;t?(a(!1),o(t)):a(!0)},placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694"}),Object(h.jsx)("button",{type:"button",disabled:n,children:Object(h.jsx)(j.b,{to:{pathname:d,state:{username:i}},children:"\uc785\uc7a5"})})]})},N=n(8),D=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],u=Object(I.a)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{type:"text",placeholder:"\ud68c\uc758 \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694."}),Object(h.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;t?(a(!1),o(t)):a(!0)}}),Object(h.jsx)("button",{type:"button",disabled:n,children:Object(h.jsx)(j.b,{to:{pathname:"/room/".concat(u),state:{username:i}},children:"\uc785\uc7a5"})})]})};var S=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)("h1",{children:"\ub098\uc758 \uc2e0\uc6d0\uc815\ubcf4 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."})]})};var E=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)("h1",{children:"\ub098\uc758 DID \uc815\ubcf4 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."})]})};var T=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)("h1",{children:"\ub098\uc758 \ub179\ud654\ubcf8 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."})]})};var _=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"\ud68c\uc758 \uc0dd\uc131 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."}),Object(h.jsx)(j.b,{to:"/auth/meeting",children:Object(h.jsx)("button",{children:"\uc785\uc7a5"})})]})};var B=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)("h1",{children:"\ub9c8\uc774\ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."}),Object(h.jsx)(j.b,{to:"my/my_credential",children:Object(h.jsx)("h2",{children:"credential"})}),Object(h.jsx)(j.b,{to:"my/my_did",children:Object(h.jsx)("h2",{children:"DID"})}),Object(h.jsx)(j.b,{to:"my/my_videos",children:Object(h.jsx)("h2",{children:"videos"})})]})},F=n(95),P=n(93),R=n.n(P),V=n(59),z=n.n(V),L=(n(175),function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){e.peer.on("stream",(function(e){console.log("on stream : ".concat(e)),t.current.srcObject=e}))}),[e.peer]),Object(h.jsx)("video",{className:"groupVideo",playsInline:!0,autoPlay:!0,ref:t})}),U=n(94),W=function(e){var t=e.userStream,n=!0,a="#bc1823";function r(){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(U.CopyToClipboard,{text:e.url,onCopy:function(){return r(!0)},children:Object(h.jsxs)("button",{className:"url",children:[" ",Object(h.jsx)("i",{class:"far fa-copy"})]})}),a?alert("URL\uc774 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):null]})}var s=!0,i="#bc1823";return Object(h.jsxs)("div",{id:"button-box",children:[Object(h.jsxs)("button",{id:"av",onClick:function(){document.getElementById("av").style.backgroundColor=i,i=s?"#302b70":"#bc1823",s=!s,t.current.getAudioTracks()[0].enabled=s},children:[" ",Object(h.jsx)("i",{className:"fas fa-microphone-slash"})," "]}),Object(h.jsxs)("button",{id:"end",onClick:function(){t.current.getVideoTracks()[0].enabled=!1,window.location.replace("/")},children:[" ",Object(h.jsx)("i",{className:"fas fa-phone-square-alt fa-3x"})," "]}),Object(h.jsxs)("button",{id:"avv",onClick:function(){document.getElementById("avv").style.backgroundColor=a,a=n?"#302b70":"#bc1823",n=!n,t.current.getVideoTracks()[0].enabled=n},children:[" ",Object(h.jsx)("i",{className:"fas fa-video"})," "]}),Object(h.jsx)(r,{})]})},A={height:window.innerHeight/2,width:window.innerWidth/2},q=function(e){var t=e.match,n=e.location,a=Object(c.useState)([]),r=Object(l.a)(a,2),s=r[0],i=r[1],o=Object(c.useRef)(),j=Object(c.useRef)(),u=Object(c.useRef)([]),b=Object(c.useRef)(),d=t.params.roomID,p=n.state.username;return console.log(p),Object(c.useEffect)((function(){o.current=R.a.connect("/",{secure:!0,reconnection:!0,rejectUnauthorized:!1}),o.current.on("connect_error",(function(e){console.log("connect_error due to ".concat(e.message))})),navigator.mediaDevices.getUserMedia({audio:!0,video:A}).then((function(e){j.current.srcObject=e,b.current=e,console.log("test : "+d),o.current.emit("join room group",d),console.log("emit join room group"),o.current.on("all users",(function(t){var n=[];console.log("on all users"),t.forEach((function(t){var c=function(e,t,n){var c=new z.a({initiator:!0,trickle:!1,stream:n});return c.on("signal",(function(n){console.log("create peer on signal"),o.current.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),c}(t,o.current.id,e);u.current.push({peerID:t,peer:c}),n.push({peerID:t,peer:c})})),i(n)})),o.current.on("user joined",(function(t){console.log("on user joined");var n=function(e,t,n){var c=new z.a({initiator:!1,trickle:!1,stream:n});return c.on("signal",(function(e){console.log("add peer on signal"),o.current.emit("returning signal",{signal:e,callerID:t})})),c.signal(e),c}(t.signal,t.callerID,e);u.current.push({peerID:t.callerID,peer:n});var c={peer:n,peerID:t.callerID};i((function(e){return[].concat(Object(F.a)(e),[c])}))})),o.current.on("receiving returned signal",(function(e){console.log("on receiving returned signal"),u.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)})),o.current.on("user left",(function(e){console.log("on user left");var t=u.current.find((function(t){return t.peerID===e}));t&&t.peer.destroy();var n=u.current.filter((function(t){return t.peerID!==e}));u.current=n,i(n)}))}))}),[d,p]),Object(h.jsxs)("div",{className:"group-call",children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.15.4/css/all.css",integrity:"sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm",crossOrigin:"anonymous"}),Object(h.jsxs)("div",{col:"col-12",children:[Object(h.jsxs)("div",{className:"videos",children:[Object(h.jsx)("video",{className:"groupVideo",muted:!0,ref:j,autoPlay:!0,playsInline:!0}),s.map((function(e){return Object(h.jsx)(L,{className:"groupVideo",peer:e.peer},e.peerID)}))]}),Object(h.jsx)(W,{userStream:b,url:n.pathname})]}),Object(h.jsx)("div",{className:"side"})]})},G=function(){return Object(h.jsxs)(N.c,{children:[Object(h.jsx)(N.a,{path:"/",exact:!0,component:p}),Object(h.jsx)(N.a,{path:"/signup",component:w}),Object(h.jsx)(N.a,{path:"/auth",exact:!0,component:g}),Object(h.jsx)(N.a,{path:"/auth/meeting_in",component:C}),Object(h.jsx)(N.a,{path:"/auth/meeting_up",component:k}),Object(h.jsx)(N.a,{path:"/auth/meeting_con",component:_}),Object(h.jsx)(N.a,{path:"/auth/meeting",exact:!0,component:D}),Object(h.jsx)(N.a,{path:"/room/:roomID",component:q}),Object(h.jsx)(N.a,{path:"/my",exact:!0,component:B}),Object(h.jsx)(N.a,{path:"/my/my_credential",component:S}),Object(h.jsx)(N.a,{path:"/my/my_did",component:E}),Object(h.jsx)(N.a,{path:"/my/my_videos",component:T}),Object(h.jsx)(N.a,{render:function(e){var t=e.location;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"\uc774 \ud398\uc774\uc9c0\ub294 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"}),Object(h.jsx)("p",{children:t.pathname})]})}})]})},H=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(G,{})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};r.a.render(Object(h.jsx)(j.a,{children:Object(h.jsx)(H,{})}),document.getElementById("root")),J()}},[[179,1,2]]]);
//# sourceMappingURL=main.fefdde7c.chunk.js.map